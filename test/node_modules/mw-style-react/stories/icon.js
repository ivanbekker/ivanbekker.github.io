import React, {PureComponent} from 'react';
import {storiesOf} from '@storybook/react';
import {select, boolean} from '@storybook/addon-knobs/react';
import Icon from '../src/components/Icon';
import Label from '../src/components/Label';
import infoDecorator from '../.storybook/customDecorators/infoDecorator';
import themeDecorator from '../.storybook/customDecorators/themeDecorator';
import iconsList from './helpers/iconList';

const stories = storiesOf('Icon', module);
infoDecorator(stories);
themeDecorator(stories);

const size = ['micro', 'small', 'medium', 'large', 'xlarge'];
const visibility = ['visible', 'disabled', 'hidden'];


class IconTest extends PureComponent {
  render() {
    const icons = [];
    const countIcons = 1000;
    for (let i = 0; i < countIcons; i += 1) {
      const randIcon = iconsList[Math.floor(Math.random() * iconsList.length)];
      if (!randIcon) continue;
      icons.push(<div key={i}><Icon type={randIcon}/></div>);
    }
    return icons;
  }
}


stories
  .add('default',
    () => (
      <Icon
        type={select('Type', iconsList, 'add')}
        size={select('Size', size, 'medium')}
        visibility={select('Visibility', visibility, 'visible')}
        error={boolean('Error', false)}
      />
    )
  )
  .add('Icon test',
    () => (
      <IconTest/>
    )
  );
