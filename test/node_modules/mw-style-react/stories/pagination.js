import React, {PureComponent} from 'react';
import {storiesOf} from '@storybook/react';
import {text, select} from '@storybook/addon-knobs/react';
import Pagination from '../src/components/Pagination';
import infoDecorator from '../.storybook/customDecorators/infoDecorator';
import themeDecorator from '../.storybook/customDecorators/themeDecorator';

const stories = storiesOf('Pagination', module);
infoDecorator(stories);
themeDecorator(stories);

const visibility = ['visible', 'disabled', 'hidden'];

class PaginationExample extends PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      value: '1',
    };
  }

  handleOnChange({value}) {
    console.log(value);
    this.setState({value});
  }

  render() {
    const {value} = this.state;
    return (
      <Pagination
        id="paginationExample"
        value={value}
        size="199"
        limit="10"
        label="{range} of {size} tasks"
        onChange={::this.handleOnChange}
      />
    );
  }
}

stories
  .add('default', () => (
    <Pagination
      value={text('Value', '2')}
      size={text('Size', '199')}
      limit={text('limit', '10')}
      visibility={select('Visibility', visibility, 'visible')}
      label={text('label', '{range} of {size} tasks')}
    />
  ))
  .add('example', () => <PaginationExample/>);
